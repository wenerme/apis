{"version":3,"file":"wener-ui-antds.system.js","sources":["../src/antds/hooks/useAntdTheme.ts","../../../.yarn/cache/immer-npm-6.0.9-1cab3ed201-e55b0d70c9.zip/node_modules/immer/dist/immer.esm.js","../src/antds/layouts/LayoutFrame/layout.tsx","../src/hooks/useNamedTheme.tsx","../src/antds/layouts/LayoutFrame/LayoutFrameMenu.tsx","../src/antds/layouts/LayoutFrame/LayoutFrameSider.tsx","../src/antds/layouts/LayoutFrame/LayoutFrameLayout.tsx","../src/antds/layouts/LayoutFrame/LayoutFrame.tsx","../src/antds/layouts/LayoutFrame/LayoutFrameContent.tsx"],"sourcesContent":["import { useEffect, useState } from 'react';\nimport { loadStyles, MaybePromise } from '@wener/utils';\n\ninterface LoadThemeOption {\n  theme: string;\n  type: string;\n  url?: string;\n}\n\nfunction loadTheme(options: LoadThemeOption): MaybePromise<boolean> {\n  const { theme, type, url = '' } = options ?? {};\n  const attr = `data-${type}-theme`;\n  const cur = document.querySelector<HTMLLinkElement>(`link[${attr}=\"${theme}\"]`);\n  if (!cur) {\n    if (url) {\n      console.info(`load theme ${type} ${theme} ${url}`);\n      return loadStyles(url, {\n        attributes: {\n          [attr]: theme,\n        },\n      }).then(() => {\n        // disable others\n        const themes = document.querySelectorAll<HTMLLinkElement>(`link[${attr}]:not([${attr}=\"${theme}\"])`);\n        themes.forEach((v) => v.setAttribute('disabled', 'true'));\n        return true;\n      });\n    }\n    return false;\n  }\n\n  const themes = document.querySelectorAll<HTMLLinkElement>(`link[${attr}]:not([${attr}=\"${theme}\"])`);\n  themes.forEach((v) => v.setAttribute('disabled', 'true'));\n  cur.removeAttribute('disabled');\n\n  return true;\n}\n\n// fixme - should use current version ?\nconst urls = {\n  light: 'https://unpkg.com/antd/dist/antd.min.css',\n  dark: 'https://unpkg.com/antd/dist/antd.dark.min.css',\n};\n\nexport function loadAntdTheme(options?: { theme; src? }): MaybePromise<boolean> {\n  const { theme = 'light', src } = options || {};\n  const url = src || urls[theme];\n  if (!url) {\n    console.error(`Theme not found: ${theme}`);\n    return false;\n  }\n  return loadTheme({\n    theme,\n    type: 'antd',\n    url,\n  });\n}\n\nexport function useAntdTheme(options?: { theme; src? }) {\n  const { theme = 'light', src } = options || {};\n  const [loading, setLoading] = useState(true);\n  useEffect(() => {\n    const url = src || urls[theme];\n    if (!url) {\n      console.error(`Theme not found: ${theme}`);\n      return;\n    }\n\n    setLoading(true);\n    Promise.resolve(\n      loadTheme({\n        theme,\n        type: 'antd',\n        url,\n      }),\n    ).finally(() => setLoading(false));\n  }, [theme, src]);\n  return loading;\n}\n","function n(n){for(var t=arguments.length,r=Array(t>1?t-1:0),e=1;e<t;e++)r[e-1]=arguments[e];if(\"production\"!==process.env.NODE_ENV){var i=L[n],o=i?\"function\"==typeof i?i.apply(null,r):i:\"unknown error nr: \"+n;throw Error(\"[Immer] \"+o)}throw Error(\"[Immer] minified error nr: \"+n+(r.length?\" \"+r.join(\",\"):\"\")+\". Find the full error at: https://bit.ly/3cXEKWf\")}function t(n){return!!n&&!!n[G]}function r(n){return!!n&&(function(n){if(!n||\"object\"!=typeof n)return!1;var t=Object.getPrototypeOf(n);return!t||t===Object.prototype}(n)||Array.isArray(n)||!!n[B]||!!n.constructor[B]||c(n)||s(n))}function e(n){if(n&&n[G])return n[G].t}function i(n,t,r){void 0===r&&(r=!1),0===o(n)?(r?Object.keys:Q)(n).forEach((function(r){return t(r,n[r],n)})):n.forEach((function(r,e){return t(e,r,n)}))}function o(n){var t=n[G];return t?t.i>3?t.i-4:t.i:Array.isArray(n)?1:c(n)?2:s(n)?3:0}function u(n,t){return 2===o(n)?n.has(t):Object.prototype.hasOwnProperty.call(n,t)}function a(n,t){return 2===o(n)?n.get(t):n[t]}function f(n,t){return n===t?0!==n||1/n==1/t:n!=n&&t!=t}function c(n){return U&&n instanceof Map}function s(n){return W&&n instanceof Set}function v(n){return n.o||n.t}function p(t,r){if(void 0===r&&(r=!1),Array.isArray(t))return t.slice();var e=Object.create(Object.getPrototypeOf(t));return i(t,(function(i){if(i!==G){var o=Object.getOwnPropertyDescriptor(t,i),u=o.value;o.get&&(r||n(1),u=o.get.call(t)),o.enumerable?e[i]=u:Object.defineProperty(e,i,{value:u,writable:!0,configurable:!0})}})),e}function d(n,e){t(n)||h(n)||!r(n)||(o(n)>1&&(n.set=n.add=n.clear=n.delete=l),Object.freeze(n),e&&i(n,(function(n,t){return d(t,!0)}),!0))}function l(){n(2)}function h(n){return null==n||\"object\"!=typeof n||Object.isFrozen(n)}function y(t){var r=V[t];return r||n(\"production\"!==process.env.NODE_ENV?18:19,t),r}function b(n,t){V[n]=t}function m(){return\"production\"===process.env.NODE_ENV||K||n(0),K}function _(n,t){t&&(y(\"Patches\"),n.u=[],n.s=[],n.v=t)}function j(n){O(n),n.p.forEach(w),n.p=null}function O(n){n===K&&(K=n.l)}function g(n){return K={p:[],l:K,h:n,m:!0,_:0}}function w(n){var t=n[G];0===t.i||1===t.i?t.j():t.O=!0}function S(t,e){e._=e.p.length;var i=e.p[0],o=void 0!==t&&t!==i;return e.h.g||y(\"ES5\").S(e,t,o),o?(i[G].P&&(j(e),n(4)),r(t)&&(t=P(e,t),e.l||A(e,t)),e.u&&y(\"Patches\").M(i[G],t,e.u,e.s)):t=P(e,i,[]),j(e),e.u&&e.v(e.u,e.s),t!==q?t:void 0}function P(n,t,r){if(h(t))return t;var e=t[G];if(!e)return i(t,(function(i,o){return M(n,e,t,i,o,r)}),!0),t;if(e.A!==n)return t;if(!e.P)return A(n,e.t,!0),e.t;if(!e.I){e.I=!0,e.A._--;var o=4===e.i||5===e.i?e.o=p(e.k,!0):e.o;i(o,(function(t,i){return M(n,e,o,t,i,r)})),A(n,o,!1),r&&n.u&&y(\"Patches\").R(e,r,n.u,n.s)}return e.o}function M(e,i,c,s,v,p){if(\"production\"!==process.env.NODE_ENV&&v===c&&n(5),t(v)){var d=P(e,v,p&&i&&3!==i.i&&!u(i.D,s)?p.concat(s):void 0);if(h=s,y=d,2===(b=o(l=c))?l.set(h,y):3===b?(l.delete(h),l.add(y)):l[h]=y,!t(d))return;e.m=!1}var l,h,y,b;if((!i||!f(v,a(i.t,s)))&&r(v)){if(!e.h.N&&e._<1)return;P(e,v),i&&i.A.l||A(e,v)}}function A(n,t,r){void 0===r&&(r=!1),n.h.N&&n.m&&d(t,r)}function x(n,t){var r=n[G],e=Reflect.getOwnPropertyDescriptor(r?v(r):n,t);return e&&e.value}function z(n){if(!n.P){if(n.P=!0,0===n.i||1===n.i){var t=n.o=p(n.t);i(n.p,(function(n,r){t[n]=r})),n.p=void 0}n.l&&z(n.l)}}function I(n){n.o||(n.o=p(n.t))}function E(n,t,r){var e=c(t)?y(\"MapSet\").T(t,r):s(t)?y(\"MapSet\").F(t,r):n.g?function(n,t){var r=Array.isArray(n),e={i:r?1:0,A:t?t.A:m(),P:!1,I:!1,D:{},l:t,t:n,k:null,p:{},o:null,j:null,C:!1},i=e,o=Y;r&&(i=[e],o=Z);var u=Proxy.revocable(i,o),a=u.revoke,f=u.proxy;return e.k=f,e.j=a,f}(t,r):y(\"ES5\").J(t,r);return(r?r.A:m()).p.push(e),e}function k(n,t){n.g?z(t):y(\"ES5\").K(t)}function R(){function e(n,t){var r=n[G];if(r&&!r.$){r.$=!0;var e=n[t];return r.$=!1,e}return n[t]}function o(n){n.P||(n.P=!0,n.l&&o(n.l))}function a(n){n.o||(n.o=c(n.t))}function c(n){var t=n&&n[G];if(t){t.$=!0;var r=p(t.k,!0);return t.$=!1,r}return p(n)}function s(n){for(var t=n.length-1;t>=0;t--){var r=n[t][G];if(!r.P)switch(r.i){case 5:l(r)&&o(r);break;case 4:d(r)&&o(r)}}}function d(n){for(var t=n.t,r=n.k,e=Object.keys(r),i=e.length-1;i>=0;i--){var o=e[i],a=t[o];if(void 0===a&&!u(t,o))return!0;var c=r[o],s=c&&c[G];if(s?s.t!==a:!f(c,a))return!0}return e.length!==Object.keys(t).length}function l(n){var t=n.k;if(t.length!==n.t.length)return!0;var r=Object.getOwnPropertyDescriptor(t,t.length-1);return!(!r||r.get)}function h(t){t.O&&n(3,JSON.stringify(v(t)))}var y={};b(\"ES5\",{J:function(n,t){var u=Array.isArray(n),s=c(n);i(s,(function(t){!function(n,t,i){var u=y[t];u?u.enumerable=i:y[t]=u={enumerable:i,get:function(){return function(n,t){h(n);var i=e(v(n),t);return n.$?i:i===e(n.t,t)&&r(i)?(a(n),n.o[t]=E(n.A.h,i,n)):i}(this[G],t)},set:function(n){!function(n,t,r){if(h(n),n.D[t]=!0,!n.P){if(f(r,e(v(n),t)))return;o(n),a(n)}n.o[t]=r}(this[G],t,n)}},Object.defineProperty(n,t,u)}(s,t,u||function(n,t){var r=Object.getOwnPropertyDescriptor(n,t);return!(!r||!r.enumerable)}(n,t))}));var p={i:u?5:4,A:t?t.A:m(),P:!1,$:!1,I:!1,D:{},l:t,t:n,k:s,o:null,O:!1,C:!1};return Object.defineProperty(s,G,{value:p,writable:!0}),s},K:o,S:function(n,r,e){n.p.forEach((function(n){n[G].$=!0})),e?t(r)&&r[G].A===n&&s(n.p):(n.u&&function n(t){if(t&&\"object\"==typeof t){var r=t[G];if(r){var e=r.t,a=r.k,f=r.D,c=r.i;if(4===c)i(a,(function(t){t!==G&&(void 0!==e[t]||u(e,t)?f[t]||n(a[t]):(f[t]=!0,o(r)))})),i(e,(function(n){void 0!==a[n]||u(a,n)||(f[n]=!1,o(r))}));else if(5===c){if(l(r)&&(o(r),f.length=!0),a.length<e.length)for(var s=a.length;s<e.length;s++)f[s]=!1;else for(var v=e.length;v<a.length;v++)f[v]=!0;for(var p=Math.min(a.length,e.length),d=0;d<p;d++)void 0===f[d]&&n(a[d])}}}}(n.p[0]),s(n.p))}})}function D(){function r(n){if(!n||\"object\"!=typeof n)return n;if(Array.isArray(n))return n.map(r);if(c(n))return new Map(Array.from(n.entries()).map((function(n){return[n[0],r(n[1])]})));if(s(n))return new Set(Array.from(n).map(r));var t=Object.create(Object.getPrototypeOf(n));for(var e in n)t[e]=r(n[e]);return t}function e(n){return t(n)?r(n):n}var f=\"add\";b(\"Patches\",{U:function(t,e){return e.forEach((function(e){for(var i=e.path,u=e.op,c=t,s=0;s<i.length-1;s++)\"object\"!=typeof(c=a(c,i[s]))&&n(15,i.join(\"/\"));var v=o(c),p=r(e.value),d=i[i.length-1];switch(u){case\"replace\":switch(v){case 2:return c.set(d,p);case 3:n(16);default:return c[d]=p}case f:switch(v){case 1:return c.splice(d,0,p);case 2:return c.set(d,p);case 3:return c.add(p);default:return c[d]=p}case\"remove\":switch(v){case 1:return c.splice(d,1);case 2:return c.delete(d);case 3:return c.delete(e.value);default:return delete c[d]}default:n(17,u)}})),t},R:function(n,t,r,o){switch(n.i){case 0:case 4:case 2:return function(n,t,r,o){var c=n.t,s=n.o;i(n.D,(function(n,i){var v=a(c,n),p=a(s,n),d=i?u(c,n)?\"replace\":f:\"remove\";if(v!==p||\"replace\"!==d){var l=t.concat(n);r.push(\"remove\"===d?{op:d,path:l}:{op:d,path:l,value:p}),o.push(d===f?{op:\"remove\",path:l}:\"remove\"===d?{op:f,path:l,value:e(v)}:{op:\"replace\",path:l,value:e(v)})}}))}(n,t,r,o);case 5:case 1:return function(n,t,r,i){var o=n.t,u=n.D,a=n.o;if(a.length<o.length){var c=[a,o];o=c[0],a=c[1];var s=[i,r];r=s[0],i=s[1]}for(var v=a.length-o.length,p=0;o[p]===a[p]&&p<o.length;)++p;for(var d=o.length;d>p&&o[d-1]===a[d+v-1];)--d;for(var l=p;l<d;++l)if(u[l]&&a[l]!==o[l]){var h=t.concat([l]);r.push({op:\"replace\",path:h,value:e(a[l])}),i.push({op:\"replace\",path:h,value:e(o[l])})}for(var y=r.length,b=d+v-1;b>=d;--b){var m=t.concat([b]);r[y+b-d]={op:f,path:m,value:e(a[b])},i.push({op:\"remove\",path:m})}}(n,t,r,o);case 3:return function(n,t,r,e){var i=n.t,o=n.o,u=0;i.forEach((function(n){if(!o.has(n)){var i=t.concat([u]);r.push({op:\"remove\",path:i,value:n}),e.unshift({op:f,path:i,value:n})}u++})),u=0,o.forEach((function(n){if(!i.has(n)){var o=t.concat([u]);r.push({op:f,path:o,value:n}),e.unshift({op:\"remove\",path:o,value:n})}u++}))}(n,t,r,o)}},M:function(n,t,r,e){r.push({op:\"replace\",path:[],value:t}),e.push({op:\"replace\",path:[],value:n.t})}})}function N(){function t(n,t){function r(){this.constructor=n}u(n,t),n.prototype=(r.prototype=t.prototype,new r)}function e(n){n.o||(n.D=new Map,n.o=new Map(n.t))}function i(n){n.o||(n.o=new Set,n.t.forEach((function(t){if(r(t)){var e=E(n.A.h,t,n);n.p.set(t,e),n.o.add(e)}else n.o.add(t)})))}function o(t){t.O&&n(3,JSON.stringify(v(t)))}var u=function(n,t){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r])})(n,t)},a=function(){function n(n,t){return this[G]={i:2,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,D:void 0,t:n,k:this,C:!1,O:!1},this}t(n,Map);var i=n.prototype;return Object.defineProperty(i,\"size\",{get:function(){return v(this[G]).size}}),i.has=function(n){return v(this[G]).has(n)},i.set=function(n,t){var r=this[G];return o(r),v(r).get(n)!==t&&(e(r),k(r.A.h,r),r.D.set(n,!0),r.o.set(n,t),r.D.set(n,!0)),this},i.delete=function(n){if(!this.has(n))return!1;var t=this[G];return o(t),e(t),k(t.A.h,t),t.D.set(n,!1),t.o.delete(n),!0},i.clear=function(){var n=this[G];return o(n),e(n),k(n.A.h,n),n.D=new Map,n.o.clear()},i.forEach=function(n,t){var r=this;v(this[G]).forEach((function(e,i){n.call(t,r.get(i),i,r)}))},i.get=function(n){var t=this[G];o(t);var i=v(t).get(n);if(t.I||!r(i))return i;if(i!==t.t.get(n))return i;var u=E(t.A.h,i,t);return e(t),t.o.set(n,u),u},i.keys=function(){return v(this[G]).keys()},i.values=function(){var n,t=this,r=this.keys();return(n={})[H]=function(){return t.values()},n.next=function(){var n=r.next();return n.done?n:{done:!1,value:t.get(n.value)}},n},i.entries=function(){var n,t=this,r=this.keys();return(n={})[H]=function(){return t.entries()},n.next=function(){var n=r.next();if(n.done)return n;var e=t.get(n.value);return{done:!1,value:[n.value,e]}},n},i[H]=function(){return this.entries()},n}(),f=function(){function n(n,t){return this[G]={i:3,l:t,A:t?t.A:m(),P:!1,I:!1,o:void 0,t:n,k:this,p:new Map,O:!1,C:!1},this}t(n,Set);var r=n.prototype;return Object.defineProperty(r,\"size\",{get:function(){return v(this[G]).size}}),r.has=function(n){var t=this[G];return o(t),t.o?!!t.o.has(n)||!(!t.p.has(n)||!t.o.has(t.p.get(n))):t.t.has(n)},r.add=function(n){var t=this[G];return o(t),this.has(n)||(i(t),k(t.A.h,t),t.o.add(n)),this},r.delete=function(n){if(!this.has(n))return!1;var t=this[G];return o(t),i(t),k(t.A.h,t),t.o.delete(n)||!!t.p.has(n)&&t.o.delete(t.p.get(n))},r.clear=function(){var n=this[G];return o(n),i(n),k(n.A.h,n),n.o.clear()},r.values=function(){var n=this[G];return o(n),i(n),n.o.values()},r.entries=function(){var n=this[G];return o(n),i(n),n.o.entries()},r.keys=function(){return this.values()},r[H]=function(){return this.values()},r.forEach=function(n,t){for(var r=this.values(),e=r.next();!e.done;)n.call(t,e.value,e.value,this),e=r.next()},n}();b(\"MapSet\",{T:function(n,t){return new a(n,t)},F:function(n,t){return new f(n,t)}})}function T(){R(),N(),D()}function F(n){return n}function C(n){return n}var J,K,$=\"undefined\"!=typeof Symbol&&\"symbol\"==typeof Symbol(\"x\"),U=\"undefined\"!=typeof Map,W=\"undefined\"!=typeof Set,X=\"undefined\"!=typeof Proxy&&void 0!==Proxy.revocable&&\"undefined\"!=typeof Reflect,q=$?Symbol(\"immer-nothing\"):((J={})[\"immer-nothing\"]=!0,J),B=$?Symbol(\"immer-draftable\"):\"__$immer_draftable\",G=$?Symbol(\"immer-state\"):\"__$immer_state\",H=\"undefined\"!=typeof Symbol&&Symbol.iterator||\"@@iterator\",L={0:\"Illegal state\",1:\"Immer drafts cannot have computed properties\",2:\"This object has been frozen and should not be mutated\",3:function(n){return\"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? \"+n},4:\"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.\",5:\"Immer forbids circular references\",6:\"The first or second argument to `produce` must be a function\",7:\"The third argument to `produce` must be a function or undefined\",8:\"First argument to `createDraft` must be a plain object, an array, or an immerable object\",9:\"First argument to `finishDraft` must be a draft returned by `createDraft`\",10:\"The given draft is already finalized\",11:\"Object.defineProperty() cannot be used on an Immer draft\",12:\"Object.setPrototypeOf() cannot be used on an Immer draft\",13:\"Immer only supports deleting array indices\",14:\"Immer only supports setting array indices and the 'length' property\",15:function(n){return\"Cannot apply patch, path doesn't resolve: \"+n},16:'Sets cannot have \"replace\" patches.',17:function(n){return\"Unsupported patch operation: \"+n},18:function(n){return\"The plugin for '\"+n+\"' has not been loaded into Immer. To enable the plugin, import and call `enable\"+n+\"()` when initializing your application.\"},19:function(n){return\"plugin not loaded: \"+n},20:\"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available\"},Q=\"undefined\"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(n){return Object.getOwnPropertyNames(n).concat(Object.getOwnPropertySymbols(n))}:Object.getOwnPropertyNames,V={},Y={get:function(n,t){if(t===G)return n;var e=n.p;if(!n.P&&u(e,t))return e[t];var i=v(n)[t];if(n.I||!r(i))return i;if(n.P){if(i!==x(n.t,t))return i;e=n.o}return e[t]=E(n.A.h,i,n)},has:function(n,t){return t in v(n)},ownKeys:function(n){return Reflect.ownKeys(v(n))},set:function(n,t,r){if(!n.P){var e=x(n.t,t);if(r?f(e,r)||r===n.p[t]:f(e,r)&&t in n.t)return!0;I(n),z(n)}return n.D[t]=!0,n.o[t]=r,!0},deleteProperty:function(n,t){return void 0!==x(n.t,t)||t in n.t?(n.D[t]=!1,I(n),z(n)):n.D[t]&&delete n.D[t],n.o&&delete n.o[t],!0},getOwnPropertyDescriptor:function(n,t){var r=v(n),e=Reflect.getOwnPropertyDescriptor(r,t);return e&&(e.writable=!0,e.configurable=1!==n.i||\"length\"!==t),e},defineProperty:function(){n(11)},getPrototypeOf:function(n){return Object.getPrototypeOf(n.t)},setPrototypeOf:function(){n(12)}},Z={};i(Y,(function(n,t){Z[n]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),Z.deleteProperty=function(t,r){return\"production\"!==process.env.NODE_ENV&&isNaN(parseInt(r))&&n(13),Y.deleteProperty.call(this,t[0],r)},Z.set=function(t,r,e){return\"production\"!==process.env.NODE_ENV&&\"length\"!==r&&isNaN(parseInt(r))&&n(14),Y.set.call(this,t[0],r,e,t[0])};var nn=function(){function e(n){this.g=X,this.N=\"production\"!==process.env.NODE_ENV,\"boolean\"==typeof(null==n?void 0:n.useProxies)&&this.setUseProxies(n.useProxies),\"boolean\"==typeof(null==n?void 0:n.autoFreeze)&&this.setAutoFreeze(n.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var i=e.prototype;return i.produce=function(t,e,i){if(\"function\"==typeof t&&\"function\"!=typeof e){var o=e;e=t;var u=this;return function(n){var t=this;void 0===n&&(n=o);for(var r=arguments.length,i=Array(r>1?r-1:0),a=1;a<r;a++)i[a-1]=arguments[a];return u.produce(n,(function(n){var r;return(r=e).call.apply(r,[t,n].concat(i))}))}}var a;if(\"function\"!=typeof e&&n(6),void 0!==i&&\"function\"!=typeof i&&n(7),r(t)){var f=g(this),c=E(this,t,void 0),s=!0;try{a=e(c),s=!1}finally{s?j(f):O(f)}return\"undefined\"!=typeof Promise&&a instanceof Promise?a.then((function(n){return _(f,i),S(n,f)}),(function(n){throw j(f),n})):(_(f,i),S(a,f))}if((a=e(t))!==q)return void 0===a&&(a=t),this.N&&d(a,!0),a},i.produceWithPatches=function(n,t){var r,e,i=this;return\"function\"==typeof n?function(t){for(var r=arguments.length,e=Array(r>1?r-1:0),o=1;o<r;o++)e[o-1]=arguments[o];return i.produceWithPatches(t,(function(t){return n.apply(void 0,[t].concat(e))}))}:[this.produce(n,t,(function(n,t){r=n,e=t})),r,e]},i.createDraft=function(t){r(t)||n(8);var e=g(this),i=E(this,t,void 0);return i[G].C=!0,O(e),i},i.finishDraft=function(t,r){var e=t&&t[G];\"production\"!==process.env.NODE_ENV&&(e&&e.C||n(9),e.I&&n(10));var i=e.A;return _(i,r),S(void 0,i)},i.setAutoFreeze=function(n){this.N=n},i.setUseProxies=function(t){X||n(20),this.g=t},i.applyPatches=function(n,r){var e;for(e=r.length-1;e>=0;e--){var i=r[e];if(0===i.path.length&&\"replace\"===i.op){n=i.value;break}}var o=y(\"Patches\").U;return t(n)?o(n,r):this.produce(n,(function(n){return o(n,r.slice(e+1))}))},e}(),tn=new nn,rn=tn.produce,en=tn.produceWithPatches.bind(tn),on=tn.setAutoFreeze.bind(tn),un=tn.setUseProxies.bind(tn),an=tn.applyPatches.bind(tn),fn=tn.createDraft.bind(tn),cn=tn.finishDraft.bind(tn);export default rn;export{nn as Immer,an as applyPatches,F as castDraft,C as castImmutable,fn as createDraft,T as enableAllPlugins,R as enableES5,N as enableMapSet,D as enablePatches,cn as finishDraft,B as immerable,t as isDraft,r as isDraftable,q as nothing,e as original,rn as produce,en as produceWithPatches,on as setAutoFreeze,un as setUseProxies};\n//# sourceMappingURL=immer.esm.js.map\n","import React, { useContext, useEffect, useReducer, useRef, useState } from 'react';\nimport { MenuSpec } from './types';\nimport { LayoutFrameState } from './state';\nimport { BehaviorSubject } from 'rxjs';\nimport produce from 'immer';\nimport type { MenuProps } from 'antd/lib/menu';\n\nexport interface LayoutFrameInstance {\n  readonly name;\n\n  subscribe(consumer: (state: LayoutFrameState) => void): () => void;\n\n  update(update: (state: LayoutFrameState) => void);\n\n  getState(): LayoutFrameState;\n\n  dispose(): void;\n}\n\nexport interface LayoutFrameOptions {\n  name?: string;\n  menus: MenuSpec[];\n  link?: ({ href }) => React.ReactNode;\n\n  menuProps?: Partial<MenuProps>;\n}\n\nconst LayoutFrameContext = React.createContext<{\n  layout: LayoutFrameInstance;\n  options: LayoutFrameOptions;\n}>(null as any);\n\ninterface TypedUseSelectorHook<TState> {\n  <TSelected>(\n    selector: (state: TState) => TSelected,\n    equalityFn?: (left: TSelected, right: TSelected) => boolean,\n  ): TSelected;\n}\n\nexport const useLayoutFrameSelector: TypedUseSelectorHook<LayoutFrameState> = (selector, eq?) => {\n  const layout = useLayoutFrame();\n  const ref = useRef<any>();\n  const [state, setState] = useState<any>(() => (ref.current = selector(layout.getState())));\n  useEffect(() => {\n    return layout.subscribe((s) => {\n      const next = selector(s);\n      if ((eq && !eq(next, ref.current)) || next !== ref.current) {\n        setState((ref.current = next));\n      }\n    });\n  }, []);\n  return state;\n};\n\nexport function useLayoutFrameOptions(): LayoutFrameOptions {\n  return useContext(LayoutFrameContext).options;\n}\n\n// class LayoutFrameStore implements LayoutFrameInstance {\n//   name = 'default';\n//   context = LayoutStoreContext;\n//   store: Store<LayoutFrameState>;\n//   useSelector: TypedUseSelectorHook<LayoutFrameState>;\n//   dispatch;\n//   forceRootUpdate: () => void;\n//\n//   constructor({ forceRootUpdate, name = 'default' }) {\n//     this.forceRootUpdate = forceRootUpdate;\n//     this.name = name;\n//\n//     const slice = createLayoutFrameSlice();\n//     this.store = configureStore(slice);\n//     this.dispatch = this.store.dispatch;\n//     this.useSelector = createSelectorHook(this.context);\n//   }\n//\n//   selector = (s) => s;\n//\n//   getLayout(): LayoutFrameInstance {\n//     // const {name, store, context} = this;\n//     // return {\n//     //   name,\n//     //   dispatch: store.dispatch,\n//     //   selector: s => s,\n//     //   useSelector: createSelectorHook(context),\n//     // }\n//     return this;\n//   }\n// }\n\nexport const LayoutFrameProvider: React.FC<{\n  layout: LayoutFrameInstance;\n  options: LayoutFrameOptions;\n}> = ({ layout, options, children }) => {\n  return <LayoutFrameContext.Provider value={{ layout, options }}>{children}</LayoutFrameContext.Provider>;\n};\n\nfunction createLayoutFrame(\n  options: {\n    current?: LayoutFrameInstance;\n    initialState?: Partial<LayoutFrameState> | (() => Partial<LayoutFrameState>);\n    name?: string;\n  } = {},\n): LayoutFrameInstance {\n  const { initialState, name = 'default', current } = options;\n  const state = new BehaviorSubject<LayoutFrameState>({\n    ...(typeof initialState === 'function' ? initialState() : initialState ?? {}),\n  });\n\n  const layout = {\n    get name() {\n      return name;\n    },\n    subscribe(consumer: (state: LayoutFrameState) => void): () => void {\n      const s = state.subscribe(consumer);\n      return s.unsubscribe.bind(s);\n    },\n    getState(): LayoutFrameState {\n      return state.value;\n    },\n    update(update: ((state: LayoutFrameState) => void) | Partial<LayoutFrameState>) {\n      if (typeof update !== 'function') {\n        layout.update((s) => {\n          Object.assign(s, update);\n        });\n        return;\n      }\n      const current = state.value;\n      const next = produce(current, update as (state: LayoutFrameState) => void);\n      if (current !== next) {\n        state.next(next);\n        console.debug(`next layout state`, next, current);\n      }\n    },\n    dispose(): void {\n      //\n    },\n  };\n\n  return layout;\n}\n\nexport function useLayoutFrame(options?: {\n  layout?: LayoutFrameInstance;\n  initialState?: Partial<LayoutFrameState> | (() => Partial<LayoutFrameState>);\n  name?: string;\n}): LayoutFrameInstance {\n  const { layout, name = 'default', initialState } = options || {};\n  const instanceRef = React.useRef<LayoutFrameInstance>();\n  const [, forceRootUpdate] = useReducer((a) => a + 1, 0);\n\n  const current = useContext(LayoutFrameContext)?.layout;\n  if (!instanceRef.current) {\n    if (current && current.name === name) {\n      instanceRef.current = current;\n    } else if (layout) {\n      instanceRef.current = layout;\n    } else {\n      // const layoutStore = new LayoutFrameStore({ forceRootUpdate, name });\n      instanceRef.current = createLayoutFrame({ name, initialState, current });\n    }\n  }\n  return instanceRef.current;\n}\n","import React, { Dispatch, SetStateAction, useContext, useEffect, useState } from 'react';\nimport { BehaviorSubject } from 'rxjs';\nimport { useConstant } from './useConstant';\n\nconst NamedThemeContext = React.createContext<BehaviorSubject<any>>(new BehaviorSubject<any>(null));\n\nexport function NamedThemeProvider({ children, initialTheme }) {\n  const state = useConstant(\n    () => new BehaviorSubject(typeof initialTheme === 'function' ? initialTheme() : initialTheme),\n  );\n  useEffect(() => {\n    return () => state.complete();\n  }, []);\n  return <NamedThemeContext.Provider value={state}>{children}</NamedThemeContext.Provider>;\n}\n\nexport function useNamedTheme(): [string, Dispatch<SetStateAction<string>>] {\n  const state = useContext(NamedThemeContext);\n  const [theme, setTheme] = useState(state.value);\n  useEffect(() => {\n    const subscribe = state.subscribe(setTheme);\n    return subscribe.unsubscribe.bind(subscribe);\n  }, [state]);\n  return [theme, (v) => state.next(v)];\n}\n","import React from 'react';\nimport { MenuSpec } from './types';\nimport { Menu } from 'antd';\nimport { useLayoutFrameOptions } from './layout';\nimport { useNamedTheme } from '../../../hooks/useNamedTheme';\nimport type { MenuProps } from 'antd/lib/menu';\n\ninterface RenderOptions {\n  link: React.FunctionComponent<{ href }> | React.ComponentClass<{ href }> | string;\n}\n\nexport const LayoutFrameMenu: React.FC<Partial<MenuProps>> = ({ children, ...props }) => {\n  const { menus, link = 'a', menuProps = {} } = useLayoutFrameOptions();\n  const [theme] = useNamedTheme();\n  return (\n    <Menu theme={theme === 'dark' ? 'dark' : 'light'} mode=\"inline\" {...menuProps} {...props}>\n      {renderMenus(menus, { link } as any)}\n    </Menu>\n  );\n};\n\nfunction renderMenus(menus: MenuSpec[], opts: RenderOptions) {\n  return menus.map((v) => renderMenu(v, opts));\n}\n\nfunction renderMenu(menu: MenuSpec, opts: RenderOptions) {\n  const { path, title, iconComponent, children = [] } = menu;\n  if (path || children.length === 0) {\n    return renderMenuItem(menu, opts);\n  }\n\n  return (\n    <Menu.SubMenu\n      key={path || title}\n      title={\n        <div>\n          {iconComponent}\n          <span>{title}</span>\n        </div>\n      }\n    >\n      {children.map((v) => renderMenuItem(v, opts))}\n    </Menu.SubMenu>\n  );\n}\n\nfunction renderMenuItem(menu: MenuSpec, { link: Link }: RenderOptions) {\n  const { path, title, iconComponent } = menu;\n  return (\n    <Menu.Item key={path || title}>\n      <Link href={path}>\n        <div>\n          {iconComponent}\n          <span style={{ ...(iconComponent ? { marginLeft: 10 } : {}) }}>{title}</span>\n        </div>\n      </Link>\n    </Menu.Item>\n  );\n}\n","import React, { CSSProperties, useState } from 'react';\nimport { Layout } from 'antd';\nimport { LayoutFrameMenu } from './LayoutFrameMenu';\nimport { useNamedTheme } from '../../../hooks/useNamedTheme';\n\nexport const LayoutFrameSider: React.FC<{ style?: CSSProperties }> = ({ style }) => {\n  const [broken, setBroken] = useState(false);\n  const [collapse, setCollapse] = useState(true);\n  const [theme] = useNamedTheme();\n\n  return (\n    <Layout.Sider\n      theme={theme === 'dark' ? 'dark' : 'light'}\n      breakpoint=\"md\"\n      onBreakpoint={setBroken}\n      collapsedWidth={broken ? 0 : 80}\n      collapsible\n      collapsed={collapse}\n      onCollapse={(v) => setCollapse(v)}\n      style={{ height: '100%', ...style }}\n    >\n      <div style={{ height: '100%', overflowY: 'auto' }}>\n        <LayoutFrameMenu />\n      </div>\n    </Layout.Sider>\n  );\n};\n","import React from 'react';\n\nimport { Layout } from 'antd';\nimport { LayoutFrameSider } from './LayoutFrameSider';\nimport { useLayoutFrame } from './layout';\nimport { useNamedTheme } from '../../../hooks';\n\nexport interface LayoutFrameLayoutProps {\n  showHeader?: boolean;\n  showFooter?: boolean;\n\n  footer?: React.ReactNode;\n  header?: React.ReactNode;\n}\n\nexport const LayoutFrameLayout: React.FC<LayoutFrameLayoutProps> = (props) => {\n  const { header, footer, children } = props;\n  let { showHeader, showFooter } = props;\n  if (typeof showHeader !== 'boolean') {\n    showHeader = Boolean(header);\n  }\n  if (typeof showFooter !== 'boolean') {\n    showFooter = Boolean(footer);\n  }\n  const layout = useLayoutFrame();\n  const [theme] = useNamedTheme();\n  // height: '100%' 确保布局不变\n  return (\n    <Layout style={{ height: '100%', minHeight: '100vh' }} data-layout-frame-name={layout.name}>\n      {header && showHeader && (\n        <Layout.Header style={theme === 'light' ? { backgroundColor: '#fff' } : {}}>{header}</Layout.Header>\n      )}\n      <Layout hasSider>\n        <LayoutFrameSider />\n\n        <Layout>\n          <Layout.Content style={{ maxHeight: '100%', overflowY: 'auto' }}>{children}</Layout.Content>\n\n          {footer && showFooter && <Layout.Footer>{footer}</Layout.Footer>}\n        </Layout>\n      </Layout>\n    </Layout>\n  );\n};\n","import React from 'react';\nimport { MenuSpec } from './types';\nimport { LayoutFrameLayout } from './LayoutFrameLayout';\nimport { LayoutFrameInstance, LayoutFrameProvider, useLayoutFrame } from './layout';\nimport type { MenuProps } from 'antd/lib/menu';\n\nexport interface LayoutFrameProps {\n  menus: MenuSpec[];\n  showFooter?: boolean;\n  showHeader?: boolean;\n\n  footer?: React.ReactNode;\n  header?: React.ReactNode;\n\n  link?: ({ href }) => React.ReactNode;\n\n  layout?: LayoutFrameInstance;\n  name?: string;\n\n  menuProps?: Partial<MenuProps>;\n}\n\nexport const LayoutFrame: React.FC<LayoutFrameProps> = (props) => {\n  const { children, showFooter, showHeader, footer, header, name, menus, link, menuProps } = props;\n  const layout = useLayoutFrame(props.layout ? { layout: props.layout } : {});\n\n  return (\n    <LayoutFrameProvider layout={layout} options={{ name, menus, link, menuProps }}>\n      <LayoutFrameLayout {...{ children, showFooter, showHeader, footer, header }} />\n    </LayoutFrameProvider>\n  );\n};\n","import React, { CSSProperties } from 'react';\nimport { useNamedTheme } from '../../../hooks/useNamedTheme';\n\nexport const LayoutFrameContent: React.FC<{ style?: CSSProperties }> = ({ children, style }) => {\n  const [theme] = useNamedTheme();\n  return (\n    <div\n      style={{\n        ...(theme !== 'dark' ? { backgroundColor: 'white' } : {}),\n        margin: 8,\n        padding: 12,\n        minHeight: 'calc(100% - 16px)',\n        ...style,\n      }}\n    >\n      {children}\n    </div>\n  );\n};\n"],"names":["loadTheme","options","theme","type","url","attr","cur","document","querySelector","console","info","loadStyles","attributes","then","themes","querySelectorAll","forEach","v","setAttribute","removeAttribute","urls","light","dark","loadAntdTheme","src","error","useAntdTheme","useState","loading","setLoading","useEffect","Promise","resolve","die","args","e","errors","msg","apply","Error","length","join","data","path","op","plugin","LayoutFrameContext","React","createContext","useLayoutFrameSelector","selector","eq","layout","useLayoutFrame","ref","useRef","current","getState","state","setState","subscribe","s","next","useLayoutFrameOptions","useContext","LayoutFrameProvider","children","createLayoutFrame","initialState","name","BehaviorSubject","consumer","unsubscribe","bind","value","update","Object","assign","produce","debug","dispose","instanceRef","useReducer","a","forceRootUpdate","NamedThemeContext","useNamedTheme","setTheme","LayoutFrameMenu","props","menus","link","menuProps","renderMenus","opts","map","renderMenu","menu","title","iconComponent","renderMenuItem","Link","marginLeft","LayoutFrameSider","style","broken","setBroken","collapse","setCollapse","height","overflowY","LayoutFrameLayout","header","footer","showHeader","showFooter","Boolean","minHeight","backgroundColor","maxHeight","LayoutFrame","LayoutFrameContent","margin","padding"],"mappings":"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"}