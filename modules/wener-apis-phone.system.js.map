{"version":3,"file":"wener-apis-phone.system.js","sources":["../../src/modules/phone/components/PhoneAttributionDetail.tsx","../../src/modules/phone/components/PhoneAttributionContent.tsx"],"sourcesContent":["import React from 'react';\nimport { Descriptions } from 'antd';\n\nexport const PhoneAttributionDetail: React.FC<{ data }> = ({ data = {} }) => {\n  const { prefix, number, vendor, province, city, zip, areaCode } = data;\n  return (\n    <div>\n      <Descriptions title=\"归属地信息\" bordered>\n        <Descriptions.Item label=\"号码\" span={2}>\n          {number}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"有效前缀\">{prefix}</Descriptions.Item>\n        <Descriptions.Item label=\"所属省\">{province}</Descriptions.Item>\n        <Descriptions.Item label=\"所属市\">{city}</Descriptions.Item>\n        <Descriptions.Item label=\"运营商\">{vendor}</Descriptions.Item>\n        <Descriptions.Item label=\"邮编\">{zip}</Descriptions.Item>\n        <Descriptions.Item label=\"区号\">{areaCode}</Descriptions.Item>\n      </Descriptions>\n    </div>\n  );\n};\n","import { Alert, Input, Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { PhoneAttributionDetail } from 'src/modules/phone/components/PhoneAttributionDetail';\nimport { consumeClientService, PhoneAttributionResponse, PhoneAttributionService } from 'src/modules/client';\nimport { useQuery } from 'react-query';\n\nexport const PhoneAttributionContent: React.FC<{ initialData?: PhoneAttributionResponse; number? }> = ({\n  initialData,\n  number: initialNumber,\n}) => {\n  const svc = consumeClientService(PhoneAttributionService);\n  const [number, setNumber] = useState(initialData?.number || initialNumber || '13000000000');\n  const { isLoading, data, refetch } = useQuery(\n    ['phoneAttribution', number],\n    (_, number) => svc.getAttribution({ number }),\n    {\n      enabled: false,\n      initialData,\n    },\n  );\n  useEffect(() => {\n    if (!initialData && number) {\n      refetch();\n    }\n  }, []);\n  return (\n    <div>\n      <div style={{ marginTop: 18 }}>\n        <Input.Search\n          placeholder=\"电话号码\"\n          loading={isLoading}\n          value={number}\n          onChange={(v) => setNumber(v.target.value)}\n          onSearch={() => refetch()}\n        />\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <Spin spinning={isLoading}>\n          <PhoneAttributionDetail data={data} />\n        </Spin>\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <h4>接口返回结果</h4>\n        <div>\n          <pre>{JSON.stringify(data, null, '  ')}</pre>\n        </div>\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <Alert\n          type=\"info\"\n          showIcon\n          message={\n            <div>\n              数据来源于{' '}\n              <a href=\"https://github.com/xluohome/phonedata\" target=\"_blank\" rel=\"noopener noreferrer\">\n                xluohome/phonedata\n              </a>\n              。\n            </div>\n          }\n        />\n      </div>\n    </div>\n  );\n};\n"],"names":["PhoneAttributionDetail","data","prefix","number","vendor","province","city","zip","areaCode","PhoneAttributionContent","initialData","initialNumber","svc","consumeClientService","PhoneAttributionService","setNumber","useState","isLoading","refetch","useQuery","_","getAttribution","enabled","useEffect","marginTop","v","target","value","JSON","stringify"],"mappings":"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"}