System.register(["react","@wener/utils","antd","rxjs","lodash"],(function(e){"use strict";var t,n,r,o,i,u,a,c,f,l;return{setters:[function(e){t=e.useState,n=e.useEffect,r=e.useRef,o=e.useContext,i=e.default,u=e.useReducer},function(e){a=e.loadStyles},function(e){c=e.Menu,f=e.Layout},function(e){l=e.BehaviorSubject},function(){}],execute:function(){function s(e){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t){if(null==e)return{};var n,r,o=function(e,t){if(null==e)return{};var n,r,o={},i=Object.keys(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||(o[n]=e[n]);return o}(e,t);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);for(r=0;r<i.length;r++)n=i[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(o[n]=e[n])}return o}function v(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,o=!1,i=void 0;try{for(var u,a=e[Symbol.iterator]();!(r=(u=a.next()).done)&&(n.push(u.value),!t||n.length!==t);r=!0);}catch(e){o=!0,i=e}finally{try{r||null==a.return||a.return()}finally{if(o)throw i}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function g(e){var t=null!=e?e:{},n=t.theme,r=t.type,o=t.url,i=void 0===o?"":o,u="data-".concat(r,"-theme"),c=document.querySelector("link[".concat(u,'="').concat(n,'"]'));return c?(document.querySelectorAll("link[".concat(u,"]:not([").concat(u,'="').concat(n,'"])')).forEach((function(e){return e.setAttribute("disabled","true")})),c.removeAttribute("disabled"),!0):!!i&&(console.info("load theme ".concat(r," ").concat(n," ").concat(i)),a(i,{attributes:d({},u,n)}).then((function(){return document.querySelectorAll("link[".concat(u,"]:not([").concat(u,'="').concat(n,'"])')).forEach((function(e){return e.setAttribute("disabled","true")})),!0})))}e({loadAntdTheme:function(e){var t=e||{},n=t.theme,r=void 0===n?"light":n,o=t.src||O[r];if(!o)return console.error("Theme not found: ".concat(r)),!1;return g({theme:r,type:"antd",url:o})},useAntdTheme:function(e){var r=e||{},o=r.theme,i=void 0===o?"light":o,u=r.src,a=v(t(!0),2),c=a[0],f=a[1];return n((function(){var e=u||O[i];e?(f(!0),Promise.resolve(g({theme:i,type:"antd",url:e})).finally((function(){return f(!1)}))):console.error("Theme not found: ".concat(i))}),[i,u]),c},useLayoutFrame:he,useLayoutFrameOptions:pe});var O={light:"https://unpkg.com/antd/dist/antd.min.css",dark:"https://unpkg.com/antd/dist/antd.dark.min.css"};function P(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("production"!==process.env.NODE_ENV){var o=ie[e],i=o?"function"==typeof o?o.apply(null,n):o:"unknown error nr: "+e;throw Error("[Immer] "+i)}throw Error("[Immer] minified error nr: "+e+(n.length?" "+n.join(","):"")+". Find the full error at: https://bit.ly/3cXEKWf")}function E(e){return!!e&&!!e[oe]}function j(e){return!!e&&(function(e){if(!e||"object"!=s(e))return!1;var t=Object.getPrototypeOf(e);return!t||t===Object.prototype}(e)||Array.isArray(e)||!!e[re]||!!e.constructor[re]||D(e)||x(e))}function w(e,t,n){void 0===n&&(n=!1),0===S(e)?(n?Object.keys:ue)(e).forEach((function(n){return t(n,e[n],e)})):e.forEach((function(n,r){return t(r,n,e)}))}function S(e){var t=e[oe];return t?t.i>3?t.i-4:t.i:Array.isArray(e)?1:D(e)?2:x(e)?3:0}function A(e,t){return 2===S(e)?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function k(e,t){return e===t?0!==e||1/e==1/t:e!=e&&t!=t}function D(e){return Z&&e instanceof Map}function x(e){return ee&&e instanceof Set}function N(e){return e.o||e.t}function F(e,t){if(void 0===t&&(t=!1),Array.isArray(e))return e.slice();var n=Object.create(Object.getPrototypeOf(e));return w(e,(function(r){if(r!==oe){var o=Object.getOwnPropertyDescriptor(e,r),i=o.value;o.get&&(t||P(1),i=o.get.call(e)),o.enumerable?n[r]=i:Object.defineProperty(n,r,{value:i,writable:!0,configurable:!0})}})),n}function I(e,t){E(e)||C(e)||!j(e)||(S(e)>1&&(e.set=e.add=e.clear=e.delete=_),Object.freeze(e),t&&w(e,(function(e,t){return I(t,!0)}),!0))}function _(){P(2)}function C(e){return null==e||"object"!=s(e)||Object.isFrozen(e)}function L(e){var t=ae[e];return t||P("production"!==process.env.NODE_ENV?18:19,e),t}function R(){return"production"===process.env.NODE_ENV||G||P(0),G}function T(e,t){t&&(L("Patches"),e.u=[],e.s=[],e.v=t)}function z(e){M(e),e.p.forEach(H),e.p=null}function M(e){e===G&&(G=e.l)}function V(e){return G={p:[],l:G,h:e,m:!0,_:0}}function H(e){var t=e[oe];0===t.i||1===t.i?t.j():t.O=!0}function W(e,t){t._=t.p.length;var n=t.p[0],r=void 0!==e&&e!==n;return t.h.g||L("ES5").S(t,e,r),r?(n[oe].P&&(z(t),P(4)),j(e)&&(e=U(t,e),t.l||B(t,e)),t.u&&L("Patches").M(n[oe],e,t.u,t.s)):e=U(t,n,[]),z(t),t.u&&t.v(t.u,t.s),e!==ne?e:void 0}function U(e,t,n){if(C(t))return t;var r=t[oe];if(!r)return w(t,(function(o,i){return K(e,r,t,o,i,n)}),!0),t;if(r.A!==e)return t;if(!r.P)return B(e,r.t,!0),r.t;if(!r.I){r.I=!0,r.A._--;var o=4===r.i||5===r.i?r.o=F(r.k,!0):r.o;w(o,(function(t,i){return K(e,r,o,t,i,n)})),B(e,o,!1),n&&e.u&&L("Patches").R(r,n,e.u,e.s)}return r.o}function K(e,t,n,r,o,i){if("production"!==process.env.NODE_ENV&&o===n&&P(5),E(o)){var u=U(e,o,i&&t&&3!==t.i&&!A(t.D,r)?i.concat(r):void 0);if(c=r,f=u,2===(l=S(a=n))?a.set(c,f):3===l?(a.delete(c),a.add(f)):a[c]=f,!E(u))return;e.m=!1}var a,c,f,l;if((!t||!k(o,function(e,t){return 2===S(e)?e.get(t):e[t]}(t.t,r)))&&j(o)){if(!e.h.N&&e._<1)return;U(e,o),t&&t.A.l||B(e,o)}}function B(e,t,n){void 0===n&&(n=!1),e.h.N&&e.m&&I(t,n)}function q(e,t){var n=e[oe],r=Reflect.getOwnPropertyDescriptor(n?N(n):e,t);return r&&r.value}function $(e){if(!e.P){if(e.P=!0,0===e.i||1===e.i){var t=e.o=F(e.t);w(e.p,(function(e,n){t[e]=n})),e.p=void 0}e.l&&$(e.l)}}function Y(e){e.o||(e.o=F(e.t))}function J(e,t,n){var r=D(t)?L("MapSet").T(t,n):x(t)?L("MapSet").F(t,n):e.g?function(e,t){var n=Array.isArray(e),r={i:n?1:0,A:t?t.A:R(),P:!1,I:!1,D:{},l:t,t:e,k:null,p:{},o:null,j:null,C:!1},o=r,i=ce;n&&(o=[r],i=fe);var u=Proxy.revocable(o,i),a=u.revoke,c=u.proxy;return r.k=c,r.j=a,c}(t,n):L("ES5").J(t,n);return(n?n.A:R()).p.push(r),r}var X,G,Q="undefined"!=typeof Symbol&&"symbol"==s(Symbol("x")),Z="undefined"!=typeof Map,ee="undefined"!=typeof Set,te="undefined"!=typeof Proxy&&void 0!==Proxy.revocable&&"undefined"!=typeof Reflect,ne=Q?Symbol("immer-nothing"):((X={})["immer-nothing"]=!0,X),re=Q?Symbol("immer-draftable"):"__$immer_draftable",oe=Q?Symbol("immer-state"):"__$immer_state",ie={0:"Illegal state",1:"Immer drafts cannot have computed properties",2:"This object has been frozen and should not be mutated",3:function(e){return"Cannot use a proxy that has been revoked. Did you pass an object from inside an immer function to an async process? "+e},4:"An immer producer returned a new value *and* modified its draft. Either return a new value *or* modify the draft.",5:"Immer forbids circular references",6:"The first or second argument to `produce` must be a function",7:"The third argument to `produce` must be a function or undefined",8:"First argument to `createDraft` must be a plain object, an array, or an immerable object",9:"First argument to `finishDraft` must be a draft returned by `createDraft`",10:"The given draft is already finalized",11:"Object.defineProperty() cannot be used on an Immer draft",12:"Object.setPrototypeOf() cannot be used on an Immer draft",13:"Immer only supports deleting array indices",14:"Immer only supports setting array indices and the 'length' property",15:function(e){return"Cannot apply patch, path doesn't resolve: "+e},16:'Sets cannot have "replace" patches.',17:function(e){return"Unsupported patch operation: "+e},18:function(e){return"The plugin for '"+e+"' has not been loaded into Immer. To enable the plugin, import and call `enable"+e+"()` when initializing your application."},19:function(e){return"plugin not loaded: "+e},20:"Cannot use proxies if Proxy, Proxy.revocable or Reflect are not available"},ue="undefined"!=typeof Reflect&&Reflect.ownKeys?Reflect.ownKeys:void 0!==Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:Object.getOwnPropertyNames,ae={},ce={get:function(e,t){if(t===oe)return e;var n=e.p;if(!e.P&&A(n,t))return n[t];var r=N(e)[t];if(e.I||!j(r))return r;if(e.P){if(r!==q(e.t,t))return r;n=e.o}return n[t]=J(e.A.h,r,e)},has:function(e,t){return t in N(e)},ownKeys:function(e){return Reflect.ownKeys(N(e))},set:function(e,t,n){if(!e.P){var r=q(e.t,t);if(n?k(r,n)||n===e.p[t]:k(r,n)&&t in e.t)return!0;Y(e),$(e)}return e.D[t]=!0,e.o[t]=n,!0},deleteProperty:function(e,t){return void 0!==q(e.t,t)||t in e.t?(e.D[t]=!1,Y(e),$(e)):e.D[t]&&delete e.D[t],e.o&&delete e.o[t],!0},getOwnPropertyDescriptor:function(e,t){var n=N(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&(r.writable=!0,r.configurable=1!==e.i||"length"!==t),r},defineProperty:function(){P(11)},getPrototypeOf:function(e){return Object.getPrototypeOf(e.t)},setPrototypeOf:function(){P(12)}},fe={};w(ce,(function(e,t){fe[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}})),fe.deleteProperty=function(e,t){return"production"!==process.env.NODE_ENV&&isNaN(parseInt(t))&&P(13),ce.deleteProperty.call(this,e[0],t)},fe.set=function(e,t,n){return"production"!==process.env.NODE_ENV&&"length"!==t&&isNaN(parseInt(t))&&P(14),ce.set.call(this,e[0],t,n,e[0])};var le=new(function(){function e(e){this.g=te,this.N="production"!==process.env.NODE_ENV,"boolean"==typeof(null==e?void 0:e.useProxies)&&this.setUseProxies(e.useProxies),"boolean"==typeof(null==e?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),this.produce=this.produce.bind(this),this.produceWithPatches=this.produceWithPatches.bind(this)}var t=e.prototype;return t.produce=function(e,t,n){if("function"==typeof e&&"function"!=typeof t){var r=t;t=e;var o=this;return function(e){var n=this;void 0===e&&(e=r);for(var i=arguments.length,u=Array(i>1?i-1:0),a=1;a<i;a++)u[a-1]=arguments[a];return o.produce(e,(function(e){var r;return(r=t).call.apply(r,[n,e].concat(u))}))}}var i;if("function"!=typeof t&&P(6),void 0!==n&&"function"!=typeof n&&P(7),j(e)){var u=V(this),a=J(this,e,void 0),c=!0;try{i=t(a),c=!1}finally{c?z(u):M(u)}return"undefined"!=typeof Promise&&i instanceof Promise?i.then((function(e){return T(u,n),W(e,u)}),(function(e){throw z(u),e})):(T(u,n),W(i,u))}if((i=t(e))!==ne)return void 0===i&&(i=e),this.N&&I(i,!0),i},t.produceWithPatches=function(e,t){var n,r,o=this;return"function"==typeof e?function(t){for(var n=arguments.length,r=Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return o.produceWithPatches(t,(function(t){return e.apply(void 0,[t].concat(r))}))}:[this.produce(e,t,(function(e,t){n=e,r=t})),n,r]},t.createDraft=function(e){j(e)||P(8);var t=V(this),n=J(this,e,void 0);return n[oe].C=!0,M(t),n},t.finishDraft=function(e,t){var n=e&&e[oe];"production"!==process.env.NODE_ENV&&(n&&n.C||P(9),n.I&&P(10));var r=n.A;return T(r,t),W(void 0,r)},t.setAutoFreeze=function(e){this.N=e},t.setUseProxies=function(e){te||P(20),this.g=e},t.applyPatches=function(e,t){var n;for(n=t.length-1;n>=0;n--){var r=t[n];if(0===r.path.length&&"replace"===r.op){e=r.value;break}}var o=L("Patches").U;return E(e)?o(e,t):this.produce(e,(function(e){return o(e,t.slice(n+1))}))},e}()),se=le.produce,de=(le.produceWithPatches.bind(le),le.setAutoFreeze.bind(le),le.setUseProxies.bind(le),le.applyPatches.bind(le),le.createDraft.bind(le),le.finishDraft.bind(le),i.createContext(null));e("useLayoutFrameSelector",(function(e,o){var i=he(),u=r(),a=v(t((function(){return u.current=e(i.getState())})),2),c=a[0],f=a[1];return n((function(){return i.subscribe((function(t){var n=e(t);(o&&!o(n,u.current)||n!==u.current)&&f(u.current=n)}))}),[]),c}));function pe(){return o(de).options}var ye=e("LayoutFrameProvider",(function(e){var t=e.layout,n=e.options,r=e.children;return i.createElement(de.Provider,{value:{layout:t,options:n}},r)}));function he(e){var t,n=e||{},r=n.layout,a=n.name,c=void 0===a?"default":a,f=n.initialState,s=i.useRef(),d=(v(u((function(e){return e+1}),0),2)[1],null===(t=o(de))||void 0===t?void 0:t.layout);return s.current||(d&&d.name===c?s.current=d:s.current=r||function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.initialState,n=e.name,r=void 0===n?"default":n,o=(e.current,new l(h({},"function"==typeof t?t():null!=t?t:{}))),i={get name(){return r},subscribe:function(e){var t=o.subscribe(e);return t.unsubscribe.bind(t)},getState:function(){return o.value},update:function(e){function t(t){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(e){if("function"==typeof e){var t=o.value,n=se(t,e);t!==n&&(o.next(n),console.debug("next layout state",n,t))}else i.update((function(t){Object.assign(t,e)}))})),dispose:function(){}};return i}({name:c,initialState:f,current:d})),s.current}var me=i.createContext(new l(null));function ve(){var e=o(me),r=v(t(e.value),2),i=r[0],u=r[1];return n((function(){var t=e.subscribe(u);return t.unsubscribe.bind(t)}),[e]),[i,function(t){return e.next(t)}]}var be=e("LayoutFrameMenu",(function(e){e.children;var t=m(e,["children"]),n=pe(),r=n.menus,o=n.link,u=void 0===o?"a":o,a=n.menuProps,f=void 0===a?{}:a,l=v(ve(),1)[0];return i.createElement(c,p({theme:"dark"===l?"dark":"light",mode:"inline"},f,t),function(e,t){return e.map((function(e){return function(e,t){var n=e.path,r=e.title,o=e.iconComponent,u=e.children,a=void 0===u?[]:u;if(n||0===a.length)return ge(e,t);return i.createElement(c.SubMenu,{key:n||r,title:i.createElement("div",null,o,i.createElement("span",null,r))},a.map((function(e){return ge(e,t)})))}(e,t)}))}(r,{link:u}))}));function ge(e,t){var n=t.link,r=e.path,o=e.title,u=e.iconComponent;return i.createElement(c.Item,{key:r||o},i.createElement(n,{href:r},i.createElement("div",null,u,i.createElement("span",{style:h({},u?{marginLeft:10}:{})},o))))}var Oe=e("LayoutFrameSider",(function(e){var n=e.style,r=v(t(!1),2),o=r[0],u=r[1],a=v(t(!0),2),c=a[0],l=a[1],s=v(ve(),1)[0];return i.createElement(f.Sider,{theme:"dark"===s?"dark":"light",breakpoint:"md",onBreakpoint:u,collapsedWidth:o?0:80,collapsible:!0,collapsed:c,onCollapse:function(e){return l(e)},style:h({height:"100%"},n)},i.createElement("div",{style:{height:"100%",overflowY:"auto"}},i.createElement(be,null)))})),Pe=e("LayoutFrameLayout",(function(e){var t=e.header,n=e.footer,r=e.children,o=e.showHeader,u=e.showFooter;"boolean"!=typeof o&&(o=Boolean(t)),"boolean"!=typeof u&&(u=Boolean(n));var a=he(),c=v(ve(),1)[0];return i.createElement(f,{style:{height:"100%",minHeight:"100vh"},"data-layout-frame-name":a.name},t&&o&&i.createElement(f.Header,{style:"light"===c?{backgroundColor:"#fff"}:{}},t),i.createElement(f,{hasSider:!0},i.createElement(Oe,null),i.createElement(f,null,i.createElement(f.Content,{style:{maxHeight:"100%",overflowY:"auto"}},r),n&&u&&i.createElement(f.Footer,null,n))))}));e("LayoutFrame",(function(e){var t=e.children,n=e.showFooter,r=e.showHeader,o=e.footer,u=e.header,a=e.name,c=e.menus,f=e.link,l=e.menuProps,s=he(e.layout?{layout:e.layout}:{});return i.createElement(ye,{layout:s,options:{name:a,menus:c,link:f,menuProps:l}},i.createElement(Pe,{children:t,showFooter:n,showHeader:r,footer:o,header:u}))})),e("LayoutFrameContent",(function(e){var t=e.children,n=e.style,r=v(ve(),1)[0];return i.createElement("div",{style:h(h({},"dark"!==r?{backgroundColor:"white"}:{}),{},{margin:8,padding:12,minHeight:"calc(100% - 16px)"},n)},t)}))}}}));
//# sourceMappingURL=wener-ui-antds.system.min.js.map
