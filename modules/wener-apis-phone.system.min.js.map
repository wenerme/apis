{"version":3,"file":"wener-apis-phone.system.min.js","sources":["../../src/modules/phone/components/PhoneAttributionDetail.tsx","../../src/modules/phone/components/PhoneAttributionContent.tsx"],"sourcesContent":["import React from 'react';\nimport { Descriptions } from 'antd';\n\nexport const PhoneAttributionDetail: React.FC<{ data }> = ({ data = {} }) => {\n  const { prefix, number, vendor, province, city, zip, areaCode } = data;\n  return (\n    <div>\n      <Descriptions title=\"归属地信息\" bordered>\n        <Descriptions.Item label=\"号码\" span={2}>\n          {number}\n        </Descriptions.Item>\n        <Descriptions.Item label=\"有效前缀\">{prefix}</Descriptions.Item>\n        <Descriptions.Item label=\"所属省\">{province}</Descriptions.Item>\n        <Descriptions.Item label=\"所属市\">{city}</Descriptions.Item>\n        <Descriptions.Item label=\"运营商\">{vendor}</Descriptions.Item>\n        <Descriptions.Item label=\"邮编\">{zip}</Descriptions.Item>\n        <Descriptions.Item label=\"区号\">{areaCode}</Descriptions.Item>\n      </Descriptions>\n    </div>\n  );\n};\n","import { Alert, Input, Spin } from 'antd';\nimport React, { useEffect, useState } from 'react';\nimport { PhoneAttributionDetail } from 'src/modules/phone/components/PhoneAttributionDetail';\nimport { consumeClientService, PhoneAttributionResponse, PhoneAttributionService } from 'src/modules/client';\nimport { useQuery } from 'react-query';\n\nexport const PhoneAttributionContent: React.FC<{ initialData?: PhoneAttributionResponse; number? }> = ({\n  initialData,\n  number: initialNumber,\n}) => {\n  const svc = consumeClientService(PhoneAttributionService);\n  const [number, setNumber] = useState(initialData?.number || initialNumber || '13000000000');\n  const { isLoading, data, refetch } = useQuery(\n    ['phoneAttribution', number],\n    (_, number) => svc.getAttribution({ number }),\n    {\n      enabled: false,\n      initialData,\n    },\n  );\n  useEffect(() => {\n    if (!initialData && number) {\n      refetch();\n    }\n  }, []);\n  return (\n    <div>\n      <div style={{ marginTop: 18 }}>\n        <Input.Search\n          placeholder=\"电话号码\"\n          loading={isLoading}\n          value={number}\n          onChange={(v) => setNumber(v.target.value)}\n          onSearch={() => refetch()}\n        />\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <Spin spinning={isLoading}>\n          <PhoneAttributionDetail data={data} />\n        </Spin>\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <h4>接口返回结果</h4>\n        <div>\n          <pre>{JSON.stringify(data, null, '  ')}</pre>\n        </div>\n      </div>\n\n      <div style={{ marginTop: 18 }}>\n        <Alert\n          type=\"info\"\n          showIcon\n          message={\n            <div>\n              数据来源于{' '}\n              <a href=\"https://github.com/xluohome/phonedata\" target=\"_blank\" rel=\"noopener noreferrer\">\n                xluohome/phonedata\n              </a>\n              。\n            </div>\n          }\n        />\n      </div>\n    </div>\n  );\n};\n"],"names":["PhoneAttributionDetail","data","prefix","number","vendor","province","city","zip","areaCode","React","Descriptions","title","bordered","Item","label","span","initialData","initialNumber","svc","consumeClientService","PhoneAttributionService","setNumber","useState","isLoading","refetch","useQuery","_","getAttribution","enabled","useEffect","style","marginTop","Input","Search","placeholder","loading","value","onChange","v","target","onSearch","Spin","spinning","JSON","stringify","Alert","type","showIcon","message","href","rel"],"mappings":"qWAGO,MAAMA,EAA6C,EAAGC,KAAAA,EAAO,aAC5DC,OAAEA,EAAFC,OAAUA,EAAVC,OAAkBA,EAAlBC,SAA0BA,EAA1BC,KAAoCA,EAApCC,IAA0CA,EAA1CC,SAA+CA,GAAaP,SAEhEQ,2BACEA,gBAACC,GAAaC,MAAM,QAAQC,aAC1BH,gBAACC,EAAaG,MAAKC,MAAM,KAAKC,KAAM,GACjCZ,GAEHM,gBAACC,EAAaG,MAAKC,MAAM,QAAQZ,GACjCO,gBAACC,EAAaG,MAAKC,MAAM,OAAOT,GAChCI,gBAACC,EAAaG,MAAKC,MAAM,OAAOR,GAChCG,gBAACC,EAAaG,MAAKC,MAAM,OAAOV,GAChCK,gBAACC,EAAaG,MAAKC,MAAM,MAAMP,GAC/BE,gBAACC,EAAaG,MAAKC,MAAM,MAAMN,kCCV+D,EACpGQ,YAAAA,EACAb,OAAQc,YAEFC,EAAMC,EAAqBC,IAC1BjB,EAAQkB,GAAaC,GAASN,MAAAA,SAAAA,EAAab,SAAUc,GAAiB,gBACvEM,UAAEA,EAAFtB,KAAaA,EAAbuB,QAAmBA,GAAYC,EACnC,CAAC,mBAAoBtB,GACrB,CAACuB,EAAGvB,IAAWe,EAAIS,eAAe,CAAExB,OAAAA,IACpC,CACEyB,SAAS,EACTZ,YAAAA,WAGJa,EAAU,MACHb,GAAeb,GAClBqB,KAED,IAEDf,2BACEA,uBAAKqB,MAAO,CAAEC,UAAW,KACvBtB,gBAACuB,EAAMC,QACLC,YAAY,OACZC,QAASZ,EACTa,MAAOjC,EACPkC,SAAWC,GAAMjB,EAAUiB,EAAEC,OAAOH,OACpCI,SAAU,IAAMhB,OAIpBf,uBAAKqB,MAAO,CAAEC,UAAW,KACvBtB,gBAACgC,GAAKC,SAAUnB,GACdd,gBAACT,GAAuBC,KAAMA,MAIlCQ,uBAAKqB,MAAO,CAAEC,UAAW,KACvBtB,oCACAA,2BACEA,2BAAMkC,KAAKC,UAAU3C,EAAM,KAAM,SAIrCQ,uBAAKqB,MAAO,CAAEC,UAAW,KACvBtB,gBAACoC,GACCC,KAAK,OACLC,YACAC,QACEvC,mCACQ,IACNA,qBAAGwC,KAAK,wCAAwCV,OAAO,SAASW,IAAI"}