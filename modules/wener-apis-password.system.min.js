System.register(["@wener/apis-client","react","react-query","antd","@wener/apis-password"],(function(e){"use strict";var t,n,l,a,r,i,s,o,c,d,m;return{setters:[function(e){t=e.consumeClientService,n=e.PasswordStrengthService},function(e){l=e.default,a=e.useState},function(e){r=e.usePaginatedQuery},function(e){i=e.Alert,s=e.Input,o=e.Spin,c=e.notification,d=e.Descriptions},function(e){m=e.ZxcvbnDescription}],execute:function(){const p=()=>l.createElement("div",{style:{marginTop:18}},l.createElement(i,{type:"info",showIcon:!0,message:l.createElement("div",null,l.createElement("a",{href:"https://en.wikipedia.org/wiki/Password_strength",target:"_blank",rel:"noopener noreferrer"},"密码强度"),"算法使用",l.createElement("a",{href:"https://blogs.dropbox.com/tech/2012/04/zxcvbn-realistic-password-strength-estimation/",target:"_blank",rel:"noopener noreferrer"},"zxcvbn")," ","。")})),u=({loading:e,value:t,data:n,onChange:a})=>l.createElement("div",{style:{display:"grid",gap:12}},l.createElement(s.Search,{disabled:e,loading:e,placeholder:"检测密码",value:t,onChange:e=>null==a?void 0:a(e.target.value)}),l.createElement(o,{spinning:e,delay:120},l.createElement("h4",null,"检测结果"),n&&l.createElement(m,{password:t,result:n})),l.createElement("div",null,l.createElement("h4",null,"结果内容"),l.createElement("div",null,l.createElement("pre",null,JSON.stringify(n,null,"  ")))),l.createElement(p,null));e("PasswordStrengthContent",({password:e,initialData:i})=>{const s=t(n),[o,d]=a(e||(null==i?void 0:i.password)||"123456"),{isLoading:m,resolvedData:p}=r(["zxcvbn",o],(e,t)=>s.zxcvbn(t),{enabled:!0,initialData:i,staleTime:120,onError(e){c.error({message:"Failed to request zxcvbn: "+String(e)})}});return l.createElement(u,{loading:m,value:o,onChange:d,data:p})}),e("ZxcvbnDescription",({password:e,result:t})=>{const{score:n,guesses:a,guesses_log10:r,feedback:i,crack_times_display:s}=t,o=["#D50000","#F44336","#FF5722","#FFC107","#43A047"],c=[{label:"100 个每小时",speedTip:"被限流的在线破解速度",value:s.online_throttling_100_per_hour},{label:"10 个每秒",speedTip:"未被限流的在线破解速度",value:s.online_no_throttling_10_per_second},{label:"10,000 个每秒",speedTip:"离线破解, 较慢的算法, 多核",value:s.offline_slow_hashing_1e4_per_second},{label:"10亿 个每秒",speedTip:"离线破解, 较快的算法, 多核",value:s.offline_fast_hashing_1e10_per_second}];return l.createElement("div",null,l.createElement(d,{bordered:!0},l.createElement(d.Item,{label:"密码"},e),l.createElement(d.Item,{label:"强度分数"},l.createElement("span",{style:{color:o[n]}},n),"/4"),l.createElement(d.Item,{label:"猜测次数"},l.createElement("div",null,a),l.createElement("div",null,r.toFixed(6)," ",l.createElement("small",null,"LOG10"))),l.createElement(d.Item,{label:"建议",span:3},i.warning&&l.createElement("div",{style:{color:o[2]}},i.warning),l.createElement("ul",null,i.suggestions.map(e=>l.createElement("li",{key:e},e)))),l.createElement(d.Item,{label:"破解时间",span:3},c.map(({label:e,speedTip:t,value:n})=>l.createElement("div",{key:e},l.createElement("span",{style:{fontWeight:"bold"}},e,":"),l.createElement("span",{style:{fontSize:"1.2rem",padding:"0 8px"}},n)," (",t,")")))))});e("metadata",{title:"密码校验",description:"Zxcvvn 密码强度检测"})}}}));
//# sourceMappingURL=wener-apis-password.system.min.js.map
